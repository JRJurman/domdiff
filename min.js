var domdiff=function(){"use strict";/*! (c) 2017 Andrea Giammarchi (ISC) */
var e=function(e){return e};return function(l,n,r,f,i){for(var t=f||e,u=null==i?null:t(i,0),o=0,s=0,a=n.length-1,v=n[0],c=n[a],d=r.length-1,B=r[0],m=r[d];o<=a&&s<=d;)if(null==v)v=n[++o];else if(null==c)c=n[--a];else if(null==B)B=r[++s];else if(null==m)m=r[--d];else if(v==B)v=n[++o],B=r[++s];else if(c==m)c=n[--a],m=r[--d];else if(v==m)l.insertBefore(t(v,1),t(c,-0).nextSibling),v=n[++o],m=r[--d];else if(c==B)l.insertBefore(t(c,1),t(v,0)),c=n[--a],B=r[++s];else{var g=n.indexOf(B);if(g<0)l.insertBefore(t(B,1),t(v,0)),B=r[++s];else{var h=n[g];n[g]=null,l.insertBefore(t(h,1),t(v,0)),B=r[++s]}}if(o>a){if(s<=d){for(var C=r[d+1],D=null==C?u:t(C,0);null==r[s];)s++;for(;null==r[d];)d--;if(s===d&&null!=r[s])l.insertBefore(t(r[s],1),D);else if(s<d){for(var p=l.ownerDocument.createDocumentFragment();s<=d;){var w=r[s++];null!=w&&p.appendChild(t(w,1))}l.insertBefore(p,D)}}}else if(s>d&&o<=a){for(;null==n[o];)o++;for(;null==n[a];)a--;if(o===a&&null!=n[o])l.removeChild(t(n[o],-1));else if(o<a){var x=l.ownerDocument.createRange();x.setStartBefore(t(n[o],-1)),x.setEndAfter(t(n[a],-1)),x.deleteContents()}}return r}}();